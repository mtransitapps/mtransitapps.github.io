<!DOCTYPE html>
<html>
	<head>
		<title>MonTransit Build status</title>
		<style type="text/css">
			.icon {
				height: 13px;
				width: 13px;
			}
			table, th, td {
				border: 1px solid black;
				border-collapse: collapse;
			}
			td {
				vertical-align: top;
			}
		</style>
		<script type="text/javascript">
			window.onload = function() {
				var projects = [
					"mtransit-for-android",
					"ca-airdrie-transit-bus",
					"ca-banff-roam-transit-bus",
					"ca-barrie-transit-bus",
					"ca-brampton-transit-bus",
					"ca-brandon-transit-bus",
					"ca-burlington-transit-bus",
					"ca-calgary-transit-bus",
					"ca-calgary-transit-train",
					"ca-campbell-river-transit-system-bus",
					"ca-central-fraser-valley-transit-system-bus",
					"ca-chambly-richelieu-carignan-citcrc-bus",
					"ca-chilliwack-transit-system-bus",
					"ca-comox-valley-transit-system-bus",
					"ca-cornwall-transit-bus",
					"ca-cowichan-valley-transit-system-bus",
					"ca-dawson-creek-transit-system-bus",
					"ca-deux-montagnes-mrcdm-bus",
					"ca-durham-region-transit-bus",
					"ca-edmonton-ets-bus",
					"ca-edmonton-ets-train",
					"ca-fredericton-transit-bus",
					"ca-fort-erie-transit-bus",
					"ca-fort-st-john-transit-system-bus",
					"ca-gatineau-sto-bus",
					"ca-grande-prairie-transit-bus",
					"ca-grand-river-transit-bus",
					"ca-grand-river-transit-light-rail",
					"ca-gtha-go-transit-bus",
					"ca-gtha-go-transit-train",
					"ca-guelph-transit-bus",
					"ca-halifax-transit-bus",
					"ca-halifax-transit-ferry",
					"ca-hamilton-hsr-bus",
					"ca-haut-st-laurent-cithsl-bus",
					"ca-kamloops-transit-system-bus",
					"ca-kelowna-regional-transit-system-bus",
					"ca-kingston-transit-bus",
					"ca-la-presqu-ile-citpi-bus",
					"ca-l-assomption-mrclasso-bus",
					"ca-laurentides-citla-bus",
					"ca-laval-stl-bus",
					"ca-le-richelain-citlr-bus",
					"ca-les-moulins-mrclm-bus",
					"ca-lethbridge-transit-bus",
					"ca-levis-stl-bus",
					"ca-london-transit-bus",
					"ca-longueuil-rtl-bus",
					"ca-mississauga-miway-bus",
					"ca-moncton-codiac-transpo-bus",
					"ca-montreal-amt-bus",
					"ca-montreal-amt-train",
					"ca-montreal-bixi-bike",
					"ca-montreal-stm-bus",
					"ca-montreal-stm-subway",
					"ca-nanaimo-rdn-transit-system-bus",
					"ca-niagara-falls-transit-bus",
					"ca-niagara-falls-wego-bus",
					"ca-niagara-region-transit-bus",
					"ca-oakville-transit-bus",
					"ca-ottawa-oc-transpo-bus",
					"ca-ottawa-oc-transpo-train",
					"ca-prince-george-transit-system-bus",
					"ca-quebec-orleans-express-bus",
					"ca-quebec-rtc-bus",
					"ca-red-deer-transit-bus",
					"ca-regina-transit-bus",
					"ca-richelieu-citvr-bus",
					"ca-roussillon-citrous-bus",
					"ca-saskatoon-transit-bus",
					"ca-shawinigan-rtcs-bus",
					"ca-sherbrooke-sts-bus",
					"ca-sorel-varennes-citsv-bus",
					"ca-squamish-transit-system-bus",
					"ca-st-albert-transit-bus",
					"ca-st-catharines-transit-bus",
					"ca-ste-julie-omitsju-bus",
					"ca-st-john-s-metrobus-transit-bus",
					"ca-strathcona-county-transit-bus",
					"ca-sudbury-transit-bus",
					"ca-sud-ouest-citso-bus",
					"ca-thunder-bay-transit-bus",
					"ca-toronto-share-bike",
					"ca-toronto-ttc-bus",
					"ca-toronto-ttc-light-rail",
					"ca-toronto-ttc-subway",
					"ca-vancouver-mobi-bike",
					"ca-vancouver-translink-bus",
					"ca-vancouver-translink-ferry",
					"ca-vancouver-translink-train",
					"ca-vernon-transit-system-bus",
					"ca-victoria-regional-transit-system-bus",
					"ca-welland-transit-bus",
					"ca-west-coast-express-bus",
					"ca-west-coast-express-train",
					"ca-whistler-transit-system-bus",
					"ca-whitehorse-transit-bus",
					"ca-windsor-transit-bus",
					"ca-winnipeg-transit-bus",
					"ca-york-region-yrt-viva-bus",
					"us-anchorage-people-mover-bus",
					"us-clark-county-c-tran-bus",
					"us-everett-transit-bus",
					"us-juneau-capital-transit-bus",
					"us-longview-rivercities-transit-bus",
					"us-snohomish-county-community-transit-bus",
					"us-washington-state-ferry"
				];
				var pkgs = [
					"org.mtransit.android",
					"org.mtransit.android.ca_airdrie_transit_bus",
					"org.mtransit.android.ca_banff_roam_transit_bus",
					"org.mtransit.android.ca_barrie_transit_bus",
					"org.mtransit.android.ca_brampton_transit_bus",
					"org.mtransit.android.ca_brandon_transit_bus",
					"org.mtransit.android.ca_burlington_transit_bus",
					"org.mtransit.android.ca_calgary_transit_bus",
					"org.mtransit.android.ca_calgary_transit_train",
					"org.mtransit.android.ca_campbell_river_transit_system_bus",
					"org.mtransit.android.ca_central_fraser_valley_transit_system_bus",
					"org.mtransit.android.ca_chambly_richelieu_carignan_citcrc_bus",
					"org.mtransit.android.ca_chilliwack_transit_system_bus",
					"org.mtransit.android.ca_comox_valley_transit_system_bus",
					"org.mtransit.android.ca_cornwall_transit_bus",
					"org.mtransit.android.ca_cowichan_valley_transit_system_bus",
					"org.mtransit.android.ca_dawson_creek_transit_system_bus",
					"org.mtransit.android.ca_deux_montagnes_mrcdm_bus",
					"org.mtransit.android.ca_durham_region_transit_bus",
					"org.mtransit.android.ca_edmonton_ets_bus",
					"org.mtransit.android.ca_edmonton_ets_train",
					"org.mtransit.android.ca_fredericton_transit_bus",
					"org.mtransit.android.ca_fort_erie_transit_bus",
					"org.mtransit.android.ca_fort_st_john_transit_system_bus",
					"org.mtransit.android.ca_gatineau_sto_bus",
					"org.mtransit.android.ca_grande_prairie_transit_bus",
					"org.mtransit.android.ca_grand_river_transit_bus",
					"org.mtransit.android.ca_grand_river_transit_light_rail",
					"org.mtransit.android.ca_gtha_go_transit_bus",
					"org.mtransit.android.ca_gtha_go_transit_train",
					"org.mtransit.android.ca_guelph_transit_bus",
					"org.mtransit.android.ca_halifax_transit_bus",
					"org.mtransit.android.ca_halifax_transit_ferry",
					"org.mtransit.android.ca_hamilton_hsr_bus",
					"org.mtransit.android.ca_haut_st_laurent_cithsl_bus",
					"org.mtransit.android.ca_kamloops_transit_system_bus",
					"org.mtransit.android.ca_kelowna_regional_transit_system_bus",
					"org.mtransit.android.ca_kingston_transit_bus",
					"org.mtransit.android.ca_la_presqu_ile_citpi_bus",
					"org.mtransit.android.ca_l_assomption_mrclasso_bus",
					"org.mtransit.android.ca_laurentides_citla_bus",
					"org.mtransit.android.ca_laval_stl_bus",
					"org.mtransit.android.ca_le_richelain_citlr_bus",
					"org.mtransit.android.ca_les_moulins_mrclm_bus",
					"org.mtransit.android.ca_lethbridge_transit_bus",
					"org.mtransit.android.ca_levis_stl_bus",
					"org.mtransit.android.ca_london_transit_bus",
					"org.mtransit.android.ca_longueuil_rtl_bus",
					"org.mtransit.android.ca_mississauga_miway_bus",
					"org.mtransit.android.ca_moncton_codiac_transpo_bus",
					"org.mtransit.android.ca_montreal_amt_bus",
					"org.mtransit.android.ca_montreal_amt_train",
					"org.mtransit.android.ca_montreal_bixi_bike",
					"org.mtransit.android.ca_montreal_stm_bus",
					"org.mtransit.android.ca_montreal_stm_subway",
					"org.mtransit.android.ca_nanaimo_rdn_transit_system_bus",
					"org.mtransit.android.ca_niagara_falls_transit_bus",
					"org.mtransit.android.ca_niagara_falls_wego_bus",
					"org.mtransit.android.ca_niagara_region_transit_bus",
					"org.mtransit.android.ca_oakville_transit_bus",
					"org.mtransit.android.ca_ottawa_oc_transpo_bus",
					"org.mtransit.android.ca_ottawa_oc_transpo_train",
					"org.mtransit.android.ca_prince_george_transit_system_bus",
					"org.mtransit.android.ca_quebec_orleans_express_bus",
					"org.mtransit.android.ca_quebec_rtc_bus",
					"org.mtransit.android.ca_red_deer_transit_bus",
					"org.mtransit.android.ca_regina_transit_bus",
					"org.mtransit.android.ca_richelieu_citvr_bus",
					"org.mtransit.android.ca_roussillon_citrous_bus",
					"org.mtransit.android.ca_saskatoon_transit_bus",
					"org.mtransit.android.ca_shawinigan_rtcs_bus",
					"org.mtransit.android.ca_sherbrooke_sts_bus",
					"org.mtransit.android.ca_sorel_varennes_citsv_bus",
					"org.mtransit.android.ca_squamish_transit_system_bus",
					"org.mtransit.android.ca_st_albert_transit_bus",
					"org.mtransit.android.ca_st_catharines_transit_bus",
					"org.mtransit.android.ca_ste_julie_omitsju_bus",
					"org.mtransit.android.ca_st_john_s_metrobus_transit_bus",
					"org.mtransit.android.ca_strathcona_county_transit_bus",
					"org.mtransit.android.ca_sudbury_transit_bus",
					"org.mtransit.android.ca_sud_ouest_citso_bus",
					"org.mtransit.android.ca_thunder_bay_transit_bus",
					"org.mtransit.android.ca_toronto_share_bike",
					"org.mtransit.android.ca_toronto_ttc_bus",
					"org.mtransit.android.ca_toronto_ttc_light_rail",
					"org.mtransit.android.ca_toronto_ttc_subway",
					"org.mtransit.android.ca_vancouver_mobi_bike",
					"org.mtransit.android.ca_vancouver_translink_bus",
					"org.mtransit.android.ca_vancouver_translink_ferry2",
					"org.mtransit.android.ca_vancouver_translink_train",
					"org.mtransit.android.ca_vernon_transit_system_bus",
					"org.mtransit.android.ca_victoria_regional_transit_system_bus",
					"org.mtransit.android.ca_welland_transit_bus",
					"org.mtransit.android.ca_west_coast_express_bus",
					"org.mtransit.android.ca_west_coast_express_train",
					"org.mtransit.android.ca_whistler_transit_system_bus",
					"org.mtransit.android.ca_whitehorse_transit_bus",
					"org.mtransit.android.ca_windsor_transit_bus",
					"org.mtransit.android.ca_winnipeg_transit_bus",
					"org.mtransit.android.ca_york_region_yrt_viva_bus",
					"org.mtransit.android.us_anchorage_people_mover_bus",
					"org.mtransit.android.us_clark_county_c_tran_bus",
					"org.mtransit.android.us_everett_transit_bus",
					"org.mtransit.android.us_juneau_capital_transit_bus",
					"org.mtransit.android.us_longview_rivercities_transit_bus",
					"org.mtransit.android.us_snohomish_county_community_transit_bus",
					"org.mtransit.android.us_washington_state_ferry"
				];
				var branches = [
					// "master", // TODO later
					"mmathieum"
				];
				var projectsTable = document.getElementById("projects-table");
				var size = Math.min(projects.length, pkgs.length);
				for (p = 0; p < size; p++) {
					var project = projects[p];
					var pkg = pkgs[p];
					var projectUrl = project;
					if (!projectUrl.endsWith("-android")) {
						projectUrl = projectUrl + "-android";
					}
					for (b = 0; b < branches.length; b++) {
						var branch = branches[b];
						var row = projectsTable.insertRow(); // append at the bottom
						var c = 0;
						if (b == 0) {
							var cellProjectNameWithIcon = row.insertCell(c);
							cellProjectNameWithIcon.rowSpan = ""+branches.length+"";
							cellProjectNameWithIcon.innerHTML =
								"<img class=\"icon\" src=\"https://raw.githubusercontent.com/mtransitapps/"+projectUrl+"/"+branch+"/src/main/play/listings/en-US/graphics/icon/1.png\">"
								+ project;
							c++;
							var cellLinks = row.insertCell(c);
							cellLinks.rowSpan = ""+branches.length+"";
							cellLinks.innerHTML = ""
								+ "<a title=\"GitHub Gradle project\" href=\"https://github.com/mtransitapps/"+project+"-gradle/\" rel=\"nofollow\">"
									+ "[G]"
								+ "</a>"
								+ "<a title=\"CircleCI\" href=\"https://circleci.com/gh/mtransitapps/"+project+"-gradle/\" rel=\"nofollow\">"
									+ "[C]"
								+ "</a>"
								+ "<a title=\"Travis CI\"  href=\"https://travis-ci.org/mtransitapps/"+project+"-gradle/\" rel=\"nofollow\">"
									+ "[T]"
								+ "</a>"
								+ "<a title=\"BETA testing\"  href=\"https://play.google.com/apps/testing/"+pkg+"\" rel=\"nofollow\">"
									+ "[B]"
								+ "</a>"
								+ "<a title=\"Google Play Store\" href=\"https://play.google.com/store/apps/details?id="+pkg+"\" rel=\"nofollow\">"
									+ "[S]"
								+ "</a>"
								+ "";
							c++;
						}
						var cellBranchName = row.insertCell(c++);
						cellBranchName.innerHTML = ""
								+ "<a title=\"GitHub Gradle project branch\" href=\"https://github.com/mtransitapps/"+project+"-gradle/tree/"+branch+"\" rel=\"nofollow\">"
									+ branch
								+ "</a>";
						var cellCircleCI = row.insertCell(c++);
						cellCircleCI.innerHTML =
							"<a href=\"https://circleci.com/gh/mtransitapps/"+project+"-gradle/tree/"+branch+"\" rel=\"nofollow\">"
								+ "<img alt=\"CircleCI\""
									+ "src=\"https://circleci.com/gh/mtransitapps/"+project+"-gradle/tree/"+branch+".svg?style=svg\">"
							+ "</a>";
						var cellTravisCI = row.insertCell(c++);
						cellTravisCI.innerHTML =
							"<a href=\"https://travis-ci.org/mtransitapps/"+project+"-gradle/\" rel=\"nofollow\">"
								+ "<img alt=\"Travis CI\""
									+ "src=\"https://api.travis-ci.org/mtransitapps/"+project+"-gradle.svg?branch="+branch+"\">"
							+ "</a>";
						var cellGitLab = row.insertCell(c++);
						if (project == "mtransit-for-android") {
							cellGitLab.innerHTML =
								"<a href=\"https://gitlab.com/mtransitapps/"+project+"-gradle/pipelines\" rel=\"nofollow\">"
									+ "<img alt=\"GitLab\""
										+ "src=\"https://gitlab.com/mtransitapps/"+project+"-gradle/badges/"+branch+"/pipeline.svg\">"
								+ "</a>";
						} else {
							cellGitLab.innerHTML = "<!-- TODO GitLab -->";
						}
						var cellBitrise = row.insertCell(c++);
						if (project == "mtransit-for-android") {
							cellBitrise.innerHTML =
								"<a href=\"https://app.bitrise.io/app/16352774a3da9a41\" rel=\"nofollow\">"
									+ "<img alt=\"Bitrise\""
										+ "src=\"https://app.bitrise.io/app/16352774a3da9a41/status.svg?token=Ue0WAJU3awNJm80pty5K_g&branch="+branch+"\">"
								+ "</a>";
						} else {
							cellBitrise.innerHTML = "<!-- TODO Bitrise -->";
						}
					}
				}
			};
		</script>
	</head>
	<body>
		<h2>MonTransit Build status</h2>

		<table id="projects-table">
			<thead>
				<tr>
					<th>Project</th>
					<th>Links</th>
					<th>Branch</th>
					<th>CircleCI</th>
					<th>Travis CI</th>
					<th>GitLab CI</th>
					<th>Bitrise</th>
				</tr>
			</thead>
			<tbody>
				<!-- Filled with JavaScript -->
			</tbody>
		</table>
	</body>
</html>
